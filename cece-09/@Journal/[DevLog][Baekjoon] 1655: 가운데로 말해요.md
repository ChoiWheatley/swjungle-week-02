# [DevLog][Baekjoon] 1655: ê°€ìš´ë°ë¥¼ ë§í•´ìš”

### 01) ë¬¸ì œ
ë°±ì¤€ì´ëŠ” ë™ìƒì—ê²Œ "ê°€ìš´ë°ë¥¼ ë§í•´ìš”" ê²Œìž„ì„ ê°€ë¥´ì³ì£¼ê³  ìžˆë‹¤. ë°±ì¤€ì´ê°€ ì •ìˆ˜ë¥¼ í•˜ë‚˜ì”© ì™¸ì¹ ë•Œë§ˆë‹¤ ë™ìƒì€ ì§€ê¸ˆê¹Œì§€ ë°±ì¤€ì´ê°€ ë§í•œ ìˆ˜ ì¤‘ì—ì„œ ì¤‘ê°„ê°’ì„ ë§í•´ì•¼ í•œë‹¤. ë§Œì•½, ê·¸ë™ì•ˆ ë°±ì¤€ì´ê°€ ì™¸ì¹œ ìˆ˜ì˜ ê°œìˆ˜ê°€ ì§ìˆ˜ê°œë¼ë©´ ì¤‘ê°„ì— ìžˆëŠ” ë‘ ìˆ˜ ì¤‘ì—ì„œ ìž‘ì€ ìˆ˜ë¥¼ ë§í•´ì•¼ í•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ë°±ì¤€ì´ê°€ ë™ìƒì—ê²Œ 1, 5, 2, 10, -99, 7, 5ë¥¼ ìˆœì„œëŒ€ë¡œ ì™¸ì³¤ë‹¤ê³  í•˜ë©´, ë™ìƒì€ 1, 1, 2, 2, 2, 2, 5ë¥¼ ì°¨ë¡€ëŒ€ë¡œ ë§í•´ì•¼ í•œë‹¤. ë°±ì¤€ì´ê°€ ì™¸ì¹˜ëŠ” ìˆ˜ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ë™ìƒì´ ë§í•´ì•¼ í•˜ëŠ” ìˆ˜ë¥¼ êµ¬í•˜ëŠ” í”„ë¡œê·¸ëž¨ì„ ìž‘ì„±í•˜ì‹œì˜¤.

#### ìž…/ì¶œë ¥
ì²«ì§¸ ì¤„ì—ëŠ” ë°±ì¤€ì´ê°€ ì™¸ì¹˜ëŠ” ì •ìˆ˜ì˜ ê°œìˆ˜ Nì´ ì£¼ì–´ì§„ë‹¤. Nì€ 1ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ê³ , 100,000ë³´ë‹¤ ìž‘ê±°ë‚˜ ê°™ì€ ìžì—°ìˆ˜ì´ë‹¤. ê·¸ ë‹¤ìŒ Nì¤„ì— ê±¸ì³ì„œ ë°±ì¤€ì´ê°€ ì™¸ì¹˜ëŠ” ì •ìˆ˜ê°€ ì°¨ë¡€ëŒ€ë¡œ ì£¼ì–´ì§„ë‹¤. ì •ìˆ˜ëŠ” -10,000ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ê³ , 10,000ë³´ë‹¤ ìž‘ê±°ë‚˜ ê°™ë‹¤.

í•œ ì¤„ì— í•˜ë‚˜ì”© Nì¤„ì— ê±¸ì³ ë°±ì¤€ì´ì˜ ë™ìƒì´ ë§í•´ì•¼ í•˜ëŠ” ìˆ˜ë¥¼ ìˆœì„œëŒ€ë¡œ ì¶œë ¥í•œë‹¤.

```
7
1
5
2
10
-99
7
5
// output is 1 1 2 2 2 2 5
```

### 02) í’€ì´
ìµœëŒ€íž™ê³¼ ìµœì†Œíž™ì„ í™œìš©í•˜ì—¬ ì¤‘ê°„ê°’ì„ ì°¾ì„ ìˆ˜ ìžˆë‹¤. heap_push, heap_pop ì—°ì‚°ì—ì„œ ë³´ì•˜ë“¯ì´ heapì„ ì‚¬ìš©í•˜ì—¬ íŠ¹ì •ê°’ì„ êµ¬í•˜ê³ ìž í•  ë•ŒëŠ” ì¡°ê±´ì´ ë˜ëŠ” ìƒíƒœë¥¼ ìœ ì§€í•˜ë©´ì„œ ê°’ì„ push ë˜ëŠ” pop í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.

#### What is min heap and max heap?
íž™(heap)ì€ parentì™€ childê°€ ì¼ì •í•œ ëŒ€ì†Œê´€ê³„ë¥¼ ìœ ì§€í•˜ëŠ” ì´ì§„ íŠ¸ë¦¬ ëª¨ì–‘ì˜ ìžë£Œêµ¬ì¡°ì´ë‹¤.

ìµœì†Œ íž™(min heap)ì€ parentê°€ childë³´ë‹¤ ìž‘ì•„ì•¼ í•œë‹¤

ìµœëŒ€ íž™(max heap)ì€ parentê°€ childë³´ë‹¤ ì»¤ì•¼ í•œë‹¤


1. min heapì˜ rootê°€ max heapì˜ rootë³´ë‹¤ í¬ë‹¤
2. ë‘ heapì˜ í¬ê¸°ë¥¼ ë¹„êµí•˜ë©´ maxê°€ 1 í¬ê±°ë‚˜, ì„œë¡œ ê°™ë‹¤

ìœ„ì™€ ê°™ì€ ì¡°ê±´ì„ ìœ ì§€í•˜ë©´ì„œ ê°’ì„ push/popí•˜ë©´ max heapì˜ ë£¨íŠ¸ ë…¸ë“œì—ëŠ” í•­ìƒ ë¬¸ì œì—ì„œ êµ¬í•˜ê³ ìž í•˜ëŠ” ê°’ì´ ìœ„ì¹˜í•˜ê²Œ ë¨ì„ ì•Œ ìˆ˜ ìžˆë‹¤.

1. í˜„ìž¬ê¹Œì§€ ë¶ˆë¦° ìˆ˜ê°€ ì§ìˆ˜ì¸ ê²½ìš°: max heapê³¼ min heapì˜ ë£¨íŠ¸ê°€ ì¤‘ê°„ê°’ì´ë‹¤. ê·¸ ì¤‘ ë” ìž‘ì€ max heapì˜ ë£¨íŠ¸ ì„ íƒ
2. í˜„ìž¬ê¹Œì§€ ë¶ˆë¦° ìˆ˜ê°€ í™€ìˆ˜ì¸ ê²½ìš°: max heapì˜ í¬ê¸°ê°€ 1 í¬ë¯€ë¡œ, max heapì˜ ë£¨íŠ¸ê°€ ì¤‘ê°„ê°’ì´ë‹¤

```python
# pseudo

max_heap, min_heap

new = int(input()) # ìƒˆë¡œ ì™¸ì¹œ ì •ìˆ˜

# ë§Œì•½ max heapì´ 1 ë” í¬ë‹¤ë©´, min heapì— ë„£ì–´ balanceë¥¼ ìœ ì§€í•œë‹¤
if max_heap.size > min_heap.size:
  min_heap.push(new)
# ê·¸ë ‡ì§€ ì•Šìœ¼ë©´, max heapì— ë„£ëŠ”ë‹¤
else:
  max_heap.push(new)

# ë§Œì•½ max heapì˜ ë£¨íŠ¸ê°€ min heapì˜ ë£¨íŠ¸ë³´ë‹¤ í¬ë©´
# ì–‘ìª½ ëª¨ë‘ë¥¼ pop í•˜ë©° swapí•´ push í•´ì¤€ë‹¤
if max_heap.root > min_heap.root:
  larger = max_heap.pop()
  min_heap.push(larger) # êº¼ë‚¸ ê°’ì„ pushí•˜ì—¬ ë‹¤ì‹œ min heapì´ ì •ë ¬í•  ìˆ˜ ìžˆê²Œ í•œë‹¤

  smaller = min_heap.pop()
  max_heap.push(smaller)
```

heapì— pushì™€ popì„ í•˜ëŠ” ì—°ì‚°ì€ ì‹œê°„ë³µìž¡ë„ê°€ O(logN)ì´ë‹¤. ë‹µì•ˆì—ëŠ” `heapq` ëª¨ë“ˆì„ ì‚¬ìš©í–ˆëŠ”ë°, ì²˜ìŒì—ëŠ” min/max heapì„ ë°°ì—´ë¡œ ìž¡ì€ í›„, compare í•¨ìˆ˜ì™€ ê° heap ë°°ì—´ì„ ì¸ìžë¡œ ë°›ì•„ push/popì„ ìˆ˜í–‰í•˜ë„ë¡ ì½”ë“œë¥¼ ìž‘ì„±í–ˆì—ˆë‹¤. ë¬¸ì œ ì˜ˆì‹œ ì •ë„ëŠ” ê°€ë³ê²Œ ì •ë‹µì„ ë±‰ì—ˆì§€ë§Œ, ì‹¤ì œ ì±„ì  ê²°ê³¼ëŠ” **ì‹œê°„ì´ˆê³¼** ê°€ ë‚˜ì™”ë‹¤. íŒŒì´ì¬ `list`ì˜ ë‚´ìž¥í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³¼ì •ì—ì„œ ì‹œê°„ë³µìž¡ë„ê°€ ì¦ê°€í•œ ê²ƒ ê°™ê³ , `heapq` ëª¨ë“ˆì€ `list`ê°€ ì•„ë‹Œ Cì˜ arrayë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë©”ëª¨ë¦¬/ì„±ëŠ¥ë©´ì—ì„œ ë‚«ë‹¤ê³  í•œë‹¤.

heapqë¥¼ ì‚¬ìš©í•˜ë©´ ìžë™ìœ¼ë¡œ **min heap** ìƒíƒœë¥¼ ìœ ì§€í•´ ì¤€ë‹¤. max heapì„ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•ŒëŠ” ì›ì†Œì— `* -1`ì„ ì·¨í•˜ì—¬ pushí•´ ì£¼ë©´ ëœë‹¤.

#### ðŸ“£ Python List Function Complexity
| Operation | Example | TC | Notes |
| - | - | - | - |
| Index | `list[i]` | O(1) |  |
| Store | `list[i] = 0` | O(1) |  |
| Length | `len(list)` | O(1) |  |
| Append | `list.append(5)` | O(1) |  |
| Pop | `list.pop()` | O(1)	  | ë§ˆì§€ë§‰ ì›ì†Œ ì œê±° |
| Clear | `list.clear()` | O(1)	   | `list = []` |
| Slice | `list[a:b]` | O(b-a) |  |
| Extend | `list.extend(...)` | O(len(...)) |  |
| Construction | `list(...)` | O(len(...))  |  |
| Cheak Equal | `list1 == list2` | O(N)  |  |
| Insert | `list[a:b] = ...` | O(N) |  |
| Delete | `del list[i]` | O(N)|  |
| Containment | `x in/not in list` | O(N)	 |  |
| Copy | `list.copy()` | O(N) |  |
| Remove | `list.remove(...)` | O(N)|  |
| Pop | `list.pop(i)` | O(N) | íŠ¹ì • ì¸ë±ìŠ¤ ì›ì†Œ ì œê±° |
| Extreme value | `min(list)/max(list)` | O(N) |  |
| Reverse  | `list.reverse()` | O(N) |  |
| Iteration | `for v in list:`  | O(N) |  |
| Sort | `list.sort()` | O(N Log N) |  |
| Multiply | `k*list` | O(k N) |  |


### 03) ì½”ë“œ(íŒŒì´ì¬)
```python

import sys
import heapq


N = int(input())
X = [int(sys.stdin.readline()) for _ in range(N)]
minH = []
maxH = []


for i in range(N):
    n = X[i]
    if i == 0:
        heapq.heappush(maxH, -n)  # max heap
        print(-maxH[0])
        continue

    elif len(minH) == len(maxH):
        heapq.heappush(maxH, -n)

    else:
        heapq.heappush(minH, n)

    if -maxH[0] > minH[0]:
        minroot = heapq.heappop(minH)
        heapq.heappush(maxH, -minroot)
        maxroot = heapq.heappop(maxH)
        heapq.heappush(minH, -maxroot)

    print(-maxH[0])


```